---
---

<nav class="fixed top-0 w-full bg-primary/95 backdrop-blur-sm z-50 px-4 py-4 shadow-lg">
  <div class="container mx-auto">
    <div class="flex justify-center gap-6 md:gap-8">
      <a href="/#inicio" data-section="inicio" class="nav-link text-white hover:text-accent transition-colors text-sm md:text-base font-medium">Inicio</a>
      <a href="/#sobremi" data-section="sobremi" class="nav-link text-white hover:text-accent transition-colors text-sm md:text-base font-medium">Acerca de mí</a>
      <a href="/mi-portafolio" data-nav-external class="nav-link text-white hover:text-accent transition-colors text-sm md:text-base font-medium">Portafolio</a>
      <a href="/#contacto" data-section="contacto" class="nav-link text-white hover:text-accent transition-colors text-sm md:text-base font-medium">Contacto</a>
    </div>
  </div>
</nav>

<script is:inline>
  const sections = ['inicio', 'sobremi', 'contacto'];
  
  function showSection(sectionId) {
    sections.forEach(id => {
      const section = document.getElementById(id);
      const link = document.querySelector(`[data-section="${id}"]`);
      
      if (section) {
        if (id === sectionId) {
          section.classList.remove('translate-x-full', 'opacity-0', 'hidden');
          section.classList.add('translate-x-0', 'opacity-100');
          link?.classList.add('text-accent');
        } else {
          section.classList.add('translate-x-full', 'opacity-0');
          setTimeout(() => section.classList.add('hidden'), 500);
          link?.classList.remove('text-accent');
        }
      }
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    // Configurar navegación
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        // Si el enlace tiene data-nav-external, permitir navegación normal
        if (link.hasAttribute('data-nav-external')) {
          return true;
        }

        e.preventDefault();
        const href = link.getAttribute('href');
        
        // Si estamos en /mi-portafolio y el enlace es interno, navegar a la página principal
        if (window.location.pathname === '/mi-portafolio' && href?.startsWith('/#')) {
          window.location.href = href;
          return;
        }

        const sectionId = href?.split('#')[1];
        if (sectionId) {
          showSection(sectionId);
          window.history.pushState({}, '', `/#${sectionId}`);
        }
      });
    });

    // Mostrar sección inicial si estamos en la página principal
    if (window.location.pathname === '/') {
      const initialSection = window.location.hash.substring(1) || 'inicio';
      showSection(initialSection);
    }
  });
</script>